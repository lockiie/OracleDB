CREATE OR REPLACE PROCEDURE PCD_CREATE_INSERT_SEQUENCES IS
  CRS_SYN INTEGER;
  CRS_RES INTEGER;
BEGIN
  FOR REC IN (SELECT 'CREATE TRIGGER TRG_' || SUBSTR(A.COLUMN_NAME,1,3) || '_INS BEFORE INSERT ON ' || A.TABLE_NAME || ' FOR EACH ROW' ||
                     ' BEGIN IF :NEW.' || SUBSTR(A.COLUMN_NAME,1,3) || '_ID IS NULL THEN SELECT FCT_GET_SEQ(' || CHR(39) || 'SEQ_' || 
                     SUBSTR(A.COLUMN_NAME,1,3) || CHR(39) || ') INTO :NEW.' || SUBSTR(A.COLUMN_NAME,1,3) || '_ID FROM DUAL; END IF; END;'AS CMD
                     FROM ALL_IND_COLUMNS A 
             WHERE A.TABLE_NAME IN (SELECT U.TABLE_NAME 
             FROM USER_TABLES U)  ) LOOP

   CRS_SYN := DBMS_SQL.OPEN_CURSOR;
   BEGIN
     DBMS_SQL.PARSE(CRS_SYN, REC.CMD, DBMS_SQL.NATIVE);
     CRS_RES := DBMS_SQL.EXECUTE(CRS_SYN);
   EXCEPTION
   WHEN OTHERS THEN
	 NULL;
   END;
   DBMS_SQL.CLOSE_CURSOR(CRS_SYN);

  END LOOP;

END;
/
